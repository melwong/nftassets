jQuery(document).ready(function(s){var e=document.location.hash.substring(1),a=jQuery("#csoptions").attr("action"),t=!1;function n(a){jQuery("."+a).change(function(){var e=jQuery("."+a+":checked").val();e=jQuery.isNumeric(e)?"x"+e:e,jQuery("."+a+"-switch."+e).css("display","block"),jQuery("."+a+"-switch:not(."+e+")").css("display","none")}),jQuery("."+a).first().trigger("change")}function r(r){jQuery("#add-"+r).click(function(e){e.preventDefault();var a=jQuery("#wrapper-"+r),t=jQuery("#wrapper-"+r+" .target-repeater-fields"),n=a.find(".source-repeater-fields").children().clone();s(n[0]).val(""),s(t).append(n)}),function(e){jQuery("#wrapper-"+e+" .target-repeater-fields").on("click","a[href=#delete-"+e+"]",function(e){e.preventDefault(),s(this).prev().remove(),s(this).remove()}),jQuery("#wrapper-"+e+" .source-repeater-fields").on("click","a[href=#delete-"+e+"]",function(e){e.preventDefault(),s(this).prev().val("")})}(r)}navtab=function(e){jQuery(".cmp-coming-soon-maintenance .nav-tab-wrapper .nav-tab").removeClass("nav-tab-active"),jQuery('.nav-tab-wrapper .nav-tab[data-tab="'+e+'"]').addClass("nav-tab-active"),jQuery(".cmp-coming-soon-maintenance .table-wrapper."+e).css("display","block"),jQuery(".cmp-coming-soon-maintenance .table-wrapper-css."+e).css("display","block"),jQuery(".cmp-coming-soon-maintenance .comingsoon."+e).css("display","block"),jQuery(".cmp-coming-soon-maintenance .table-wrapper:not(."+e+")").css("display","none"),jQuery(".cmp-coming-soon-maintenance .table-wrapper-css:not(."+e).css("display","none"),jQuery(".cmp-coming-soon-maintenance .comingsoon:not(."+e+")").css("display","none"),"install"==e?(jQuery(".cmp-coming-soon-maintenance .submit").css("display","none"),jQuery(".cmp-coming-soon-maintenance #csoptions").attr("action",a)):(jQuery(".cmp-coming-soon-maintenance .submit").css("display","block"),jQuery(".cmp-coming-soon-maintenance #csoptions").attr("action",a+"#"+e))},""!=e?navtab(e):jQuery(".cmp-coming-soon-maintenance .table-wrapper-css").css("display","none"),window.onhashchange=function(){e=document.location.hash.substring(1),navtab(e)},n("page-whitelist"),n("cmp-bypass"),n("cmp-topbar-icon"),r("head_scripts"),r("footer_scripts"),jQuery("#cmp-import-json").on("change",function(e){jQuery(".import-json-label").attr("data-default",e.target.files[0].name);var a=new FileReader;a.onload=function(e){jQuery("#cmp-import-input").val(e.target.result)},a.readAsText(e.target.files[0]),s("#cmp-import-settings").attr("disabled",!1),jQuery(".import-json-label").removeClass("import-fail"),t=!1}),jQuery("#cmp-export-json").click(function(e){e.preventDefault();var a={action:"cmp_ajax_export_settings",security:jQuery(this).data("security")};jQuery.post(ajaxurl,a,function(e){e&&jQuery("<iframe />").attr("src",ajaxurl+"?action=cmp_ajax_export_settings&security="+jQuery("#cmp-export-json").data("security")).appendTo("body").hide()})}),jQuery("#cmp-import-settings").click(function(e){if(e.preventDefault(),!0===t)return!1;var n=jQuery("#cmp-import-input").val(),r=jQuery(".import-json-label");if(!jQuery("#cmp-import-media").is(":checked")){var s=new Array("niteoCS_banner_id","niteoCS_logo_id","niteoCS_seo_img_id");(n=jQuery.parseJSON(n)).map(function(e,a){for(var t in e)-1<s.indexOf(t)&&n.splice(a,1)}),n=JSON.stringify(n)}var a={action:"cmp_ajax_import_settings",security:jQuery(this).data("security"),json:n};t=!0;var i=(new Date).getTime();r.html('<i class="fa fa-cog fa-spin" aria-hidden="true"></i> importing..'),r.attr("data-default",""),jQuery.post(ajaxurl,a,function(e){if(e){var a=(new Date).getTime()-i,t=jQuery.parseJSON(e);2e3<a?("success"==t.result?r.addClass("import-success"):r.addClass("import-fail"),r.html(""),r.attr("data-default",t.message)):setTimeout(function(){"success"==t.result?r.addClass("import-success"):r.addClass("import-fail"),r.html(""),r.attr("data-default",t.message)},2e3-a)}})}),jQuery(".cmp-whitelist-select, .cmp-blacklist, .cmp-user_roles").select2({width:"calc(100% - 1em)",placeholder:"Click to select.."})});